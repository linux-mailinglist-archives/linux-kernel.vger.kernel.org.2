Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 577E845B28B
	for <lists+linux-kernel@lfdr.de>; Wed, 24 Nov 2021 04:17:34 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S240808AbhKXDUj (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Tue, 23 Nov 2021 22:20:39 -0500
Received: from mga09.intel.com ([134.134.136.24]:56227 "EHLO mga09.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S240802AbhKXDUi (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Tue, 23 Nov 2021 22:20:38 -0500
X-IronPort-AV: E=McAfee;i="6200,9189,10177"; a="235012512"
X-IronPort-AV: E=Sophos;i="5.87,258,1631602800"; 
   d="scan'208";a="235012512"
Received: from orsmga005.jf.intel.com ([10.7.209.41])
  by orsmga102.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 23 Nov 2021 19:17:29 -0800
X-IronPort-AV: E=Sophos;i="5.87,258,1631602800"; 
   d="scan'208";a="674714109"
Received: from rongch2-mobl.ccr.corp.intel.com (HELO [10.255.28.39]) ([10.255.28.39])
  by orsmga005-auth.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384; 23 Nov 2021 19:17:25 -0800
Subject: Re: [kbuild-all] Re: [PATCH] crypto: fix flexible_array.cocci
 warnings
To:     Herbert Xu <herbert@gondor.apana.org.au>,
        Julia Lawall <julia.lawall@inria.fr>
Cc:     Megha Dey <megha.dey@intel.com>, kbuild-all@lists.01.org,
        linux-kernel@vger.kernel.org,
        Tomasz Kantecki <tomasz.kantecki@intel.com>,
        Thomas Gleixner <tglx@linutronix.de>,
        Ingo Molnar <mingo@redhat.com>, Borislav Petkov <bp@alien8.de>,
        x86@kernel.org, "H. Peter Anvin" <hpa@zytor.com>,
        linux-crypto@vger.kernel.org
References: <alpine.DEB.2.22.394.2111121154320.2916@hadrien>
 <20211120040625.GA25678@gondor.apana.org.au>
From:   "Chen, Rong A" <rong.a.chen@intel.com>
Message-ID: <4514c646-cae1-cd50-8a1c-1a550593c7a8@intel.com>
Date:   Wed, 24 Nov 2021 11:17:23 +0800
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101
 Firefox/78.0 Thunderbird/78.12.0
MIME-Version: 1.0
In-Reply-To: <20211120040625.GA25678@gondor.apana.org.au>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Language: en-US
Content-Transfer-Encoding: 7bit
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hi Herbert,

On 11/20/2021 12:06 PM, Herbert Xu wrote:
> On Fri, Nov 12, 2021 at 11:56:22AM +0100, Julia Lawall wrote:
>> From: kernel test robot <lkp@intel.com>
>>
>>   Zero-length and one-element arrays are deprecated, see
>>   Documentation/process/deprecated.rst
>>   Flexible-array members should be used instead.
>>
>> Generated by: scripts/coccinelle/misc/flexible_array.cocci
>>
>> Reported-by: kernel test robot <lkp@intel.com>
>> Signed-off-by: kernel test robot <lkp@intel.com>
>> Signed-off-by: Julia Lawall <julia.lawall@inria.fr>
>> ---
>>
>> tree:   https://github.com/meghadey/crypto crypto-avx512
>> head:   9c8c2ca77f6e2575a130bddb9767d068e1162d71
>> commit: 377aede9f10ee28be954473668bc6d33c6c9db75 [5/6] crypto: aesni - AVX512 version of AESNI-GCM using VPCLMULQDQ

Sorry for the noise, this patch tries to fix the above commit, it seems
the commit is still in the private tree, we have fixed it to avoid 
sending to maintainers.

Best Regards,
Rong Chen

>> :::::: branch date: 7 weeks ago
>> :::::: commit date: 7 weeks ago
>>
>>   aesni-intel_glue.c |    2 +-
>>   1 file changed, 1 insertion(+), 1 deletion(-)
>>
>> --- a/arch/x86/crypto/aesni-intel_glue.c
>> +++ b/arch/x86/crypto/aesni-intel_glue.c
>> @@ -87,7 +87,7 @@ struct gcm_context_data {
>>   	u64 partial_block_len;
>>   	u64 unused;
>>   	/* Allocate space for hash_keys later */
>> -	u8 hash_keys[0];
>> +	u8 hash_keys[];
> 
> Which tree did this come from? Not only is this not zero in my
> tree, but it seems to have never been zero in the git history.
> 
> Thanks,
> 
