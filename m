Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id EAB22344E66
	for <lists+linux-kernel@lfdr.de>; Mon, 22 Mar 2021 19:22:23 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S231354AbhCVSVv (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Mon, 22 Mar 2021 14:21:51 -0400
Received: from mail2-relais-roc.national.inria.fr ([192.134.164.83]:55758 "EHLO
        mail2-relais-roc.national.inria.fr" rhost-flags-OK-OK-OK-OK)
        by vger.kernel.org with ESMTP id S231700AbhCVSVl (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Mon, 22 Mar 2021 14:21:41 -0400
IronPort-HdrOrdr: =?us-ascii?q?A9a23=3AAFwshKryPEGuYf2qPkxu++4aV5sAKNV00zAX?=
 =?us-ascii?q?/kB9WHVpW+SivYSHgOkb2RjoiDwYRXEnnpS6NLOdRG7HnKQFnLU5FYyJGC3ron?=
 =?us-ascii?q?GhIo0n14vtxDX8Bzbzn9Qtr5tIW5NVTOf9BV0St7eA3CCRGdwt2cTC1aiui/vX?=
 =?us-ascii?q?wXsFd3AiV4hJ9A15ChmWHwlfWWB9dM8EPbKB+8tKoCehc3wLbsK9QkIIRfTHus?=
 =?us-ascii?q?ejruOBXTctARk75A6SyRah77DnGxaVty1uGw9n67Ek7GTDjkjF/a2lqf620Vvx?=
 =?us-ascii?q?0GXU4pRQlrLau/p+LeaLjdUYLSiptxawaO1aKpO/lR0WgMXq0lYll9HQvwwtVv?=
 =?us-ascii?q?4YhAKsQkiZqQbgsjOQpQoGxnPmyUCVmnfv5fH+LQhaN+NsnpleaQGc1kxIhqBd?=
 =?us-ascii?q?7ItlxGSc3qAnfC/ovCO43NTQUgEvq0zcmwtVrcc3j2ZDFaMEYr5QsoB3xjJ+LL?=
 =?us-ascii?q?4kHDjmrKEqFfAGNrDx2N9ycUmGK1DV11Mf6OCEe3QoA1O+RFIe0/bl/gR+uXBi?=
 =?us-ascii?q?0g8j2McElGwB/55Vcehq283gMr500I1IVNMcd6hnBOwMKPHHIVDlZTLpHCasLU?=
 =?us-ascii?q?/8FKcBUki986LfxLku/umldNgp4fIJ6eD8eWpCuWQ/dk7oA8Hm5uxjzjn3TG+w?=
 =?us-ascii?q?XSvgx6hljvAT1t2MPcuSQFLzNmwGqMeur+4SBcfWQZ+ISeVrKsXuKmbjAu9yri?=
 =?us-ascii?q?7DcqNPInoTWtB9gKduZ3uyo9nGIoCvluvXfOe7HsueLR8YW3jyCnZGYT7rJM8o?=
 =?us-ascii?q?1DHZZlbEhnHqKgPQU3261p59F5Xa8/MeobJ9YbFkg0wwsxCU98uLITpNvugdZ0?=
 =?us-ascii?q?1lOo7qlau9uC2f4XvIx38BAGsGMm9lpJHbF19arw4DNE35NZwZvc+ERGxU1Hyb?=
 =?us-ascii?q?YjdiUsLtFhJFrVgfw9PrE7WggQQZT/63OGOTiHUe4FiQSY0Hp6GF7cD5PrQ1E4?=
 =?us-ascii?q?ghQ640MQnQDRR6lUJLpQ54GVM5b36aMgmrpbSujZQSCu2aXcJ7mh2XLcldrm+a?=
 =?us-ascii?q?ul6boc0pW3sHTz+jWcOamm8VNmRpr2w015VarKuLmD6pJ2d6qv8/KkdwZGOeB6?=
 =?us-ascii?q?8DDAntXvQEppnbPCVLCUuajz2TjB8+PkDw8V8Ju2DnJSqIPfXCAl9XvGFEwr/n?=
 =?us-ascii?q?mWkEJlm1TgZVUDRXoId9HWPJtjJYyumQfJe+1GOXdx8F2eESMDbMZDMIOQNwz9?=
 =?us-ascii?q?Wr1BqY8QzySkkO99ELBKjwHb4je7bc1jeGM4uTj5wLGPdS4dJ4Ltz0q/QKVuie?=
 =?us-ascii?q?YgeRKzv9B4oSql+oj0dgHBMxhGgvkPvu1hGg0XOx22QnB+HOZH58QasAHt2a52?=
 =?us-ascii?q?/4ZvqB3Zljl+gpte+oPmiZUK/V9YjnKxp4bjLauyqfUvwho5E8h9N4iJJDW73g?=
 =?us-ascii?q?FQbu+F4C9hMkN8vwnF4ZW81Akfr8E74qW8QTfile7x4NlNOCRXFHjiXGRss3fV?=
 =?us-ascii?q?Qoh3ieAN+T+brPrtMUcxu8jTq1H0Ke/S1b9/KAYi3r79AnIpN1B39XZkg64Gll?=
 =?us-ascii?q?58WYeeTreV6XXtAGxkOzNjuTdbdSIZL1e4k4n1JB+tmN28qaaCb8sTqg2QdTE+?=
 =?us-ascii?q?Z16m6iBfm5BhmBcNQ4luCSCBC3m6OvpPSvhCrqU1KAGiMlrLwASkwKct4GsDMr?=
 =?us-ascii?q?i4o630GJO8/Ki0o4jlpT5ixmnFbx2o6gpHzWB11CLBexuOQaYRBDdnePlsjL6u?=
 =?us-ascii?q?6eyTD05yVEw4DKEANKcshJAMV4dPmxEw5+bcwRtqWv5awhn2BKZwovFXc1jFnG?=
 =?us-ascii?q?rqZb9Kb83PXZQOv5D3j0fVoH5D5eH4Zx2igms3tJfcT77ZWzZGwsZ6o1Kup64o?=
 =?us-ascii?q?BdizRyrFfvq1UachV2rwQtkpjXMUaPBQU9KYH+2Y/txBQIrqmL7FNj4H1Wh1O8?=
 =?us-ascii?q?kVmZ/1z4hdy8tXY4p3DUxzUX75m1VX80mmJUpwRnyatuPj6WXWngTWiMPVn3wK?=
 =?us-ascii?q?ErUEcVS1wH2qEull7OPqMLnpexwy54tjw9GDE32KzuGWDFSzmefOeAdQyCBZCw?=
 =?us-ascii?q?Gpp1bPlQMGZYcCLzOxTAh5gqThXHPN1mzQ6hn38SBa6IfqOqCTjtQqUl7egVIe?=
 =?us-ascii?q?jrRYXbmMLFkg5e/HsWp5jgiXOEkOlxhPnrZTJUoJY4aexxJgyu/C1kydOdUgLE?=
 =?us-ascii?q?IpgP7Eju3iPcwDUdIMVT3h8czkYbrzoBAS+kB9u8QUd6uT4NoqWZBREw2IKGUt?=
 =?us-ascii?q?ZasWDIvF6ntj3XLWmvQQWRZ4E=3D?=
X-IronPort-AV: E=Sophos;i="5.81,269,1610406000"; 
   d="scan'208";a="499336039"
Received: from 173.121.68.85.rev.sfr.net (HELO hadrien) ([85.68.121.173])
  by mail2-relais-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 22 Mar 2021 19:21:39 +0100
Date:   Mon, 22 Mar 2021 19:21:39 +0100 (CET)
From:   Julia Lawall <julia.lawall@inria.fr>
X-X-Sender: jll@hadrien
To:     Pantelis Antoniou <pantelis.antoniou@konsulko.com>,
        Frank Rowand <frowand.list@gmail.com>,
        Rob Herring <robh+dt@kernel.org>
cc:     devicetree@vger.kernel.org, linux-kernel@vger.kernel.org,
        Sumera Priyadarsini <sylphrenadin@gmail.com>,
        linux-kernel@vger.kernel.org, kbuild-all@lists.01.org
Subject: [PATCH] of: overlay: fix for_each_child.cocci warnings
Message-ID: <alpine.DEB.2.22.394.2103221918450.2918@hadrien>
User-Agent: Alpine 2.22 (DEB 394 2020-01-19)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

From: kernel test robot <lkp@intel.com>

Function "for_each_child_of_node" should have of_node_put() before goto.

Generated by: scripts/coccinelle/iterators/for_each_child.cocci

Fixes: 82c2d81361ec ("coccinelle: iterators: Add for_each_child.cocci script")
CC: Sumera Priyadarsini <sylphrenadin@gmail.com>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: kernel test robot <lkp@intel.com>
Signed-off-by: Julia Lawall <julia.lawall@inria.fr>
---

tree:   https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master
head:   812da4d39463a060738008a46cfc9f775e4bfcf6
commit: 82c2d81361ecd142a54e84a9da1e287113314a4f coccinelle: iterators: Add for_each_child.cocci script
:::::: branch date: 13 hours ago
:::::: commit date: 5 months ago

 overlay.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/of/overlay.c
+++ b/drivers/of/overlay.c
@@ -796,6 +796,7 @@ static int init_overlay_changeset(struct
 		if (!fragment->target) {
 			of_node_put(fragment->overlay);
 			ret = -EINVAL;
+			of_node_put(node);
 			goto err_free_fragments;
 		}

